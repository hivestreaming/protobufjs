/*
 ProtoBuf.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 Released under the Apache License, Version 2.0
 see: https://github.com/dcodeIO/ProtoBuf.js for details
*/
function S(z){var k={};k.yb=z;k.m=z.m||null;k.VERSION="4.1.3";k.i={};k.i.I=0;k.i.da=1;k.i.F=2;k.i.ya=3;k.i.ma=4;k.i.ca=5;k.wa=[k.i.I,k.i.da,k.i.ca];k.g={int32:{name:"int32",j:k.i.I,defaultValue:0},uint32:{name:"uint32",j:k.i.I,defaultValue:0},sint32:{name:"sint32",j:k.i.I,defaultValue:0},int64:{name:"int64",j:k.i.I,defaultValue:k.m?k.m.ZERO:void 0},uint64:{name:"uint64",j:k.i.I,defaultValue:k.m?k.m.$a:void 0},sint64:{name:"sint64",j:k.i.I,defaultValue:k.m?k.m.ZERO:void 0},bool:{name:"bool",j:k.i.I,
defaultValue:!1},"double":{name:"double",j:k.i.da,defaultValue:0},string:{name:"string",j:k.i.F,defaultValue:""},bytes:{name:"bytes",j:k.i.F,defaultValue:null},fixed32:{name:"fixed32",j:k.i.ca,defaultValue:0},sfixed32:{name:"sfixed32",j:k.i.ca,defaultValue:0},fixed64:{name:"fixed64",j:k.i.da,defaultValue:k.m?k.m.$a:void 0},sfixed64:{name:"sfixed64",j:k.i.da,defaultValue:k.m?k.m.ZERO:void 0},"float":{name:"float",j:k.i.ca,defaultValue:0},"enum":{name:"enum",j:k.i.I,defaultValue:0},message:{name:"message",
j:k.i.F,defaultValue:null},group:{name:"group",j:k.i.ya,defaultValue:null}};k.Xa=[k.g.int32,k.g.sint32,k.g.sfixed32,k.g.uint32,k.g.fixed32,k.g.int64,k.g.sint64,k.g.sfixed64,k.g.uint64,k.g.fixed64,k.g.bool,k.g.string,k.g.bytes];k.ua=1;k.ta=536870911;k.bb=!1;k.pb=!0;k.qb=!0;k.X=function(){var c={};c.va=!("object"!==typeof process||"[object process]"!==process+""||process.browser);c.ab=function(){for(var x=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},
function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],u=null,D=0;D<x.length;D++){try{u=x[D]()}catch(n){continue}break}if(!u)throw Error("XMLHttpRequest is not supported");return u};c.fetch=function(x,u){u&&"function"!=typeof u&&(u=null);if(c.va){var D=require("fs");if(u)D.cc(x,function(B,f){B?u(null):u(""+f)});else try{return D.dc(x)}catch(B){return null}}else{var n=c.ab();n.open("GET",x,u?!0:!1);n.setRequestHeader("Accept","text/plain");
"function"===typeof n.overrideMimeType&&n.overrideMimeType("text/plain");if(u)n.onreadystatechange=function(){4==n.readyState&&(200==n.status||0==n.status&&"string"===typeof n.responseText?u(n.responseText):u(null))},4!=n.readyState&&n.send(null);else return n.send(null),200==n.status||0==n.status&&"string"===typeof n.responseText?n.responseText:null}};c.Ta=function(x){return x.replace(/_([a-zA-Z])/g,function(u,D){return D.toUpperCase()})};return c}();k.Wa={zb:/[\s\{\}=;:\[\],'"\(\)<>]/g,Kb:/^(?:required|optional|repeated|map)$/,
TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,Cb:/^[a-zA-Z_][a-zA-Z_0-9]*$/,Ob:/^[a-zA-Z][a-zA-Z_0-9]*$/,La:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,Ab:/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/,Eb:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,Fb:/^(?:[1-9][0-9]*|0)$/,Hb:/^0[xX][0-9a-fA-F]+$/,Ib:/^0[0-7]+$/,Gb:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,BOOL:/^(?:true|false)$/i,
Bb:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,Db:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,Pb:/\s/,Lb:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,Mb:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,Nb:/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g};k.Reflect=function(c){function x(a,b,d,e,h,l,r,C){u.call(this,a,b,d,C);this.className="Service.RPCMethod";this.Qa=e;this.Ra=h;this.Ea=this.ra=null}function u(a,b,d,e){m.call(this,a,b,d);this.className="Service.Method";this.options=e||{}}function D(a,
b,d,e){F.call(this,a,b,d,e);this.className="Service";this.v=null}function n(a,b,d){m.call(this,a,b,d)}function B(a,b,d,e){m.call(this,a,b,d);this.className="Enum.Value";this.id=e}function f(a,b,d,e,h){F.call(this,a,b,d,e,h);this.className="Enum";this.object=null}function t(a,b,d,e,h,l,r){q.call(this,a,b,d,null,e,h,l,r)}function q(a,b,d,e,h,l,r,C,I,L){m.call(this,a,b,l);this.className="Message.Field";this.required="required"===d;this.H="repeated"===d;this.map="map"===d;this.P=e||null;this.type=h;this.A=
null;this.id=r;this.options=C||{};this.defaultValue=null;this.R=I||null;this.syntax=L||"proto2";this.U=this.name;this.ka=this.element=null;!this.Ma.options.convertFieldsToCamelCase||this instanceof p.na||(this.name=c.X.Ta(this.name))}function p(a,b,d,e,h,l){F.call(this,a,b,d,e,l);this.className="Message";this.T=[c.ua,c.ta];this.v=null;this.kb=!!h;this.ha=this.za=this.S=null}function N(a,b,d,e){this.type=a;this.A=b;this.B=d;this.syntax=e;if(d&&0>c.Xa.indexOf(a))throw Error("Invalid map key type: "+
a.name);}function F(a,b,d,e,h){m.call(this,a,b,d);this.className="Namespace";this.children=[];this.options=e||{};this.syntax=h||"proto2"}function m(a,b,d){this.Ma=a;this.parent=b;this.name=d}function G(a,b){if(a&&"number"===typeof a.low&&"number"===typeof a.high&&"boolean"===typeof a.tb&&a.low===a.low&&a.high===a.high)return new c.m(a.low,a.high,"undefined"===typeof b?a.tb:b);if("string"===typeof a)return c.m.Wb(a,b||!1,10);if("number"===typeof a)return c.m.Vb(a,b||!1);throw Error("not convertible to Long");
}function P(a,b){var d=b.D(),e=d&7;d>>>=3;switch(e){case c.i.I:do d=b.kc();while(128===(d&128));break;case c.i.da:b.offset+=8;break;case c.i.F:d=b.D();b.offset+=d;break;case c.i.ya:P(d,b);break;case c.i.ma:if(d===a)return!1;throw Error("Illegal GROUPEND after unknown group: "+d+" ("+a+" expected)");case c.i.ca:b.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+a+": "+e);}return!0}var H={},M=m.prototype;M.qa=function(){var a=this.name,b=this;do{b=b.parent;if(null==b)break;
a=b.name+"."+a}while(1);return a};M.toString=function(a){return(a?this.className+" ":"")+this.qa()};M.O=function(){throw Error(this.toString(!0)+" cannot be built directly");};H.Za=m;M=F.prototype=Object.create(m.prototype);M.ja=function(a){a=a||null;if(null==a)return this.children.slice();for(var b=[],d=0,e=this.children.length;d<e;++d)this.children[d]instanceof a&&b.push(this.children[d]);return b};M.N=function(a){var b;if(b=this.G(a.name))if(b instanceof p.L&&b.name!==b.U&&null===this.G(b.U))b.name=
b.U;else if(a instanceof p.L&&a.name!==a.U&&null===this.G(a.U))a.name=a.U;else throw Error("Duplicate name in namespace "+this.toString(!0)+": "+a.name);this.children.push(a)};M.G=function(a){for(var b="number"===typeof a?"id":"name",d=0,e=this.children.length;d<e;++d)if(this.children[d][b]===a)return this.children[d];return null};M.resolve=function(a,b){var d="string"===typeof a?a.split("."):a,e=this,h=0;if(""===d[h]){for(;null!==e.parent;)e=e.parent;h++}do{do{if(!(e instanceof H.ea)){e=null;break}e=
e.G(d[h]);if(!(e&&e instanceof H.Za)||b&&!(e instanceof H.ea)){e=null;break}h++}while(h<d.length);if(null!=e)break;if(null!==this.parent)return this.parent.resolve(a,b)}while(null!=e);return e};M.ac=function(a){var b=[],d=a;do b.unshift(d.name),d=d.parent;while(null!==d);for(d=1;d<=b.length;d++){var e=b.slice(b.length-d);if(a===this.resolve(e,a instanceof H.ea))return e.join(".")}return a.qa()};M.O=function(){for(var a={},b=this.children,d=0,e=b.length,h;d<e;++d)h=b[d],h instanceof F&&(a[h.name]=
h.O());Object.defineProperty&&Object.defineProperty(a,"$options",{value:this.Y()});return a};M.Y=function(){for(var a={},b=Object.keys(this.options),d=0,e=b.length;d<e;++d)a[b[d]]=this.options[b[d]];return a};M.Yb=function(a){return"undefined"===typeof a?this.options:"undefined"!==typeof this.options[a]?this.options[a]:null};H.ea=F;var J=N.prototype;N.B=function(a){"string"===typeof a&&(a=c.g[a]);if("undefined"===typeof a.defaultValue)throw Error("default value for type "+a.name+" is not supported");
return a==c.g.bytes?new z(0):a.defaultValue};J.s=function(a){var b=function(h,l){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+h+" ("+l+")");}.bind(this);switch(this.type){case c.g.int32:case c.g.sint32:case c.g.sfixed32:return("number"!==typeof a||a===a&&0!==a%1)&&b(typeof a,"not an integer"),4294967295<a?a|0:a;case c.g.uint32:case c.g.fixed32:return("number"!==typeof a||a===a&&0!==a%1)&&b(typeof a,"not an integer"),0>a?a>>>0:a;case c.g.int64:case c.g.sint64:case c.g.sfixed64:if(c.m)try{return G(a,
!1)}catch(h){b(typeof a,h.message)}else b(typeof a,"requires Long.js");case c.g.uint64:case c.g.fixed64:if(c.m)try{return G(a,!0)}catch(h){b(typeof a,h.message)}else b(typeof a,"requires Long.js");case c.g.bool:return"boolean"!==typeof a&&b(typeof a,"not a boolean"),a;case c.g["float"]:case c.g["double"]:return"number"!==typeof a&&b(typeof a,"not a number"),a;case c.g.string:return"string"===typeof a||a&&a instanceof String||b(typeof a,"not a string"),""+a;case c.g.bytes:return z.Ba(a)?a:z.Ia(a,"base64");
case c.g["enum"]:var d=this.A.ja(c.Reflect.K.pa);for(e=0;e<d.length;e++)if(d[e].name==a||d[e].id==a)return d[e].id;if("proto3"===this.syntax)return("number"!==typeof a||a===a&&0!==a%1)&&b(typeof a,"not an integer"),(4294967295<a||0>a)&&b(typeof a,"not in range for uint32"),a;b(a,"not a valid enum value");case c.g.group:case c.g.message:a&&"object"===typeof a||b(typeof a,"object expected");if(a instanceof this.A.v)return a;if(a instanceof c.V.l){b={};for(var e in a)a.hasOwnProperty(e)&&(b[e]=a[e]);
a=b}return new this.A.v(a)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+a+" (undefined type "+this.type+")");};J.Z=function(a,b){if(null===b)return 0;switch(this.type){case c.g.int32:return 0>b?z.Na(b):z.o(b);case c.g.uint32:return z.o(b);case c.g.sint32:return z.o(z.Ac(b));case c.g.fixed32:case c.g.sfixed32:case c.g["float"]:return 4;case c.g.int64:case c.g.uint64:return z.Na(b);case c.g.sint64:return z.Na(z.Bc(b));case c.g.fixed64:case c.g.sfixed64:return 8;case c.g.bool:return 1;
case c.g["enum"]:return z.o(b);case c.g["double"]:return 8;case c.g.string:return b=z.Qb(b),z.o(b)+b;case c.g.bytes:if(0>b.C())throw Error("Illegal value for "+this.toString(!0)+": "+b.C()+" bytes remaining");return z.o(b.C())+b.C();case c.g.message:return b=this.A.fa(b),z.o(b)+b;case c.g.group:return b=this.A.fa(b),b+z.o(a<<3|c.i.ma)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+b+" (unknown type)");};J.ia=function(a,b,d){if(null!==b)switch(this.type){case c.g.int32:0>
b?d.vb(b):d.u(b);break;case c.g.uint32:d.u(b);break;case c.g.sint32:d.yc(b);break;case c.g.fixed32:d.vc(b);break;case c.g.sfixed32:d.tc(b);break;case c.g.int64:case c.g.uint64:d.vb(b);break;case c.g.sint64:d.zc(b);break;case c.g.fixed64:d.wc(b);break;case c.g.sfixed64:d.uc(b);break;case c.g.bool:"string"===typeof b?d.u("false"===b.toLowerCase()?0:!!b):d.u(b?1:0);break;case c.g["enum"]:d.u(b);break;case c.g["float"]:d.rc(b);break;case c.g["double"]:d.sc(b);break;case c.g.string:d.xc(b);break;case c.g.bytes:if(0>
b.C())throw Error("Illegal value for "+this.toString(!0)+": "+b.C()+" bytes remaining");a=b.offset;d.u(b.C());d.append(b);b.offset=a;break;case c.g.message:a=(new z).W();this.A.encode(b,a);d.u(a.offset);d.append(a.Aa());break;case c.g.group:this.A.encode(b,d);d.u(a<<3|c.i.ma);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+b+" (unknown type)");}};J.decode=function(a,b,d){if(b!=this.type.j)throw Error("Unexpected wire type for element");switch(this.type){case c.g.int32:return a.D()|
0;case c.g.uint32:return a.D()>>>0;case c.g.sint32:return a.mc()|0;case c.g.fixed32:return a.ic()>>>0;case c.g.sfixed32:return a.fc()|0;case c.g.int64:return a.rb();case c.g.uint64:return a.rb().qc();case c.g.sint64:return a.nc();case c.g.fixed64:return a.jc();case c.g.sfixed64:return a.hc();case c.g.bool:return!!a.D();case c.g["enum"]:return a.D();case c.g["float"]:return a.ec();case c.g["double"]:return a.bc();case c.g.string:return a.lc();case c.g.bytes:d=a.D();if(a.C()<d)throw Error("Illegal number of bytes for "+
this.toString(!0)+": "+d+" required but got only "+a.C());b=a.clone();b.lb=b.offset+d;a.offset+=d;return b;case c.g.message:return d=a.D(),this.A.decode(a,d);case c.g.group:return this.A.decode(a,-1,d)}throw Error("[INTERNAL] Illegal decode type");};J.ub=function(a){if(!this.B)throw Error("valueFromString() called on non-map-key element");switch(this.type){case c.g.int32:case c.g.sint32:case c.g.sfixed32:case c.g.uint32:case c.g.fixed32:return this.s(parseInt(a));case c.g.int64:case c.g.sint64:case c.g.sfixed64:case c.g.uint64:case c.g.fixed64:return this.s(a);
case c.g.bool:return"true"===a;case c.g.string:return this.s(a);case c.g.bytes:return z.Ub(a)}};J.ga=function(a){if(!this.B)throw Error("valueToString() called on non-map-key element");return this.type===c.g.bytes?a.toString("binary"):a.toString()};H.Element=N;J=p.prototype=Object.create(F.prototype);J.O=function(){if(this.v)return this.v;var a=function(h,l){function r(g,v){h.V.l.call(this);for(var y=0,w=L.length;y<w;++y)this[L[y].name]=null;y=0;for(w=I.length;y<w;++y){var E=I[y];this[E.name]=E.H?
[]:E.map?new h.Map(E):null;!E.required&&"proto3"!==l.syntax||null===E.defaultValue||(this[E.name]=E.defaultValue)}if(0<arguments.length){var K;if(1!==arguments.length||null===g||"object"!==typeof g||!("function"!==typeof g.encode||g instanceof r)||Array.isArray(g)||g instanceof h.Map||z.Ba(g)||g instanceof ArrayBuffer||h.m&&g instanceof h.m)for(y=0,w=arguments.length;y<w;++y)"undefined"!==typeof(K=arguments[y])&&this.sa(I[y].name,K);else this.sa(g)}}function C(g,v,y,w){if(null===g||"object"!==typeof g){if(w&&
w instanceof h.Reflect.K){var E=h.Reflect.K.jb(w.object,g);if(null!==E)return E}return g}if(z.Ba(g))return v?g.Fa():g.Ga();if(h.m.Zb(g))return y?g.toString():h.m.Xb(g);if(Array.isArray(g)){var K=[];g.forEach(function(W,X){K[X]=C(W,v,y,w)});return K}K={};if(g instanceof h.Map){E=g.entries();for(var O=E.next();!O.done;O=E.next())K[g.J.ga(O.value[0])]=C(O.value[1],v,y,g.Ha.A);return K}E=g.Ja;O=void 0;for(var U=Object.keys(g),T=0,Y=U.length;T<Y;T++){var Q=U[T];E&&(O=E.G(Q))?K[Q]=C(g[Q],v,y,O.A):K[Q]=
C(g[Q],v,y)}return K}var I=l.ja(h.Reflect.l.L),L=l.ja(h.Reflect.l.oa),A=r.prototype=Object.create(h.V.l.prototype);A.add=function(g,v,y){var w=l.ha[g];if(!y){if(!w)throw Error(this+"#"+g+" is undefined");if(!(w instanceof h.Reflect.l.L))throw Error(this+"#"+g+" is not a field: "+w.toString(!0));if(!w.H)throw Error(this+"#"+g+" is not a repeated field");v=w.s(v,!0)}null===this[g]&&(this[g]=[]);this[g].push(v);return this};A.wb=A.add;A.set=function(g,v,y){if(g&&"object"===typeof g){y=v;for(var w=Object.keys(g),
E=0,K=w.length;E<K;E++){var O=w[E];"undefined"!==typeof(v=g[O])&&this.sa(O,v,y)}return this}w=l.ha[g];if(y)this[g]=v;else{if(!w)throw Error(this+"#"+g+" is not a field: undefined");if(!(w instanceof h.Reflect.l.L))throw Error(this+"#"+g+" is not a field: "+w.toString(!0));this[w.name]=v=w.s(v)}w&&w.R&&(y=this[w.R.name],null!==v?(null!==y&&y!==w.name&&(this[y]=null),this[w.R.name]=w.name):y===g&&(this[w.R.name]=null));return this};A.sa=A.set;A.get=function(g,v){if(v)return this[g];v=l.ha[g];if(!(v&&
v instanceof h.Reflect.l.L))throw Error(this+"#"+g+" is not a field: undefined");if(!(v instanceof h.Reflect.l.L))throw Error(this+"#"+g+" is not a field: "+v.toString(!0));return this[v.name]};A.xb=A.get;for(var R=0;R<I.length;R++){var V=I[R];V instanceof h.Reflect.l.na||l.Ma.options.populateAccessors&&function(g){function v(){return this[g.name]}function y(K,O){this[g.name]=O?K:g.s(K);return this}var w=g.U.replace(/(_[a-zA-Z])/g,function(K){return K.toUpperCase().replace("_","")});w=w.substring(0,
1).toUpperCase()+w.substring(1);var E=g.U.replace(/([A-Z])/g,function(K){return"_"+K});null===l.G("set"+w)&&(A["set"+w]=y);null===l.G("set_"+E)&&(A["set_"+E]=y);null===l.G("get"+w)&&(A["get"+w]=v);null===l.G("get_"+E)&&(A["get_"+E]=v)}(V)}A.encode=function(g,v){"boolean"===typeof g&&(v=g,g=void 0);var y=!1;g||(g=new z,y=!0);var w=g.mb;try{return l.encode(this,g.W(),v),(y?g.Aa():g).W(w)}catch(E){throw g.W(w),E;}};r.encode=function(g,v,y){return(new r(g)).encode(v,y)};A.fa=function(){return l.fa(this)};
A.Rb=function(g){var v=!1;g||(g=new z,v=!0);var y=(new z).W();l.encode(this,y).Aa();g.u(y.C());g.append(y);return v?g.Aa():g};A.eb=function(){try{return this.encode().Sa()}catch(g){throw g.encoded&&(g.encoded=g.encoded.Sa()),g;}};A.Sa=A.eb;A.gb=function(){try{return this.encode().Ga()}catch(g){throw g.encoded&&(g.encoded=g.encoded.Ga()),g;}};A.Ga=A.gb;A.cb=function(){try{return this.encode().Fa()}catch(g){throw g.encoded&&(g.encoded=g.encoded.Fa()),g;}};A.Fa=A.cb;A.fb=function(){try{return this.encode().Ua()}catch(g){throw g.encoded&&
(g.encoded=g.encoded.Ua()),g;}};A.Ua=A.fb;A.pc=function(g,v){return C(this,!!g,!!v,this.Ja)};A.Sb=function(){return JSON.stringify(C(this,!0,!0,this.Ja))};r.decode=function(g,v){"string"===typeof g&&(g=z.Ia(g,v?v:"base64"));g=z.Ba(g)?g:z.Ia(g);v=g.mb;try{var y=l.decode(g.W());g.W(v);return y}catch(w){throw g.W(v),w;}};A.toString=function(){return l.toString()};Object.defineProperty&&(Object.defineProperty(r,"$options",{value:l.Y()}),Object.defineProperty(A,"$options",{value:r.$options}),Object.defineProperty(r,
"$type",{value:l}),Object.defineProperty(A,"$type",{value:l}));return r}(c,this);this.S=[];this.za={};this.ha={};for(var b=0,d=this.children.length,e;b<d;b++)if(e=this.children[b],e instanceof f||e instanceof p||e instanceof D){if(a.hasOwnProperty(e.name))throw Error("Illegal reflect child of "+this.toString(!0)+": "+e.toString(!0)+" cannot override static property '"+e.name+"'");a[e.name]=e.O()}else if(e instanceof p.L)e.O(),this.S.push(e),this.za[e.id]=e,this.ha[e.name]=e;else if(!(e instanceof
p.oa||e instanceof n))throw Error("Illegal reflect child of "+this.toString(!0)+": "+this.children[b].toString(!0));return this.v=a};J.encode=function(a,b,d){for(var e=null,h,l=0,r=this.S.length,C;l<r;++l)h=this.S[l],C=a[h.name],h.required&&null===C?null===e&&(e=h):h.encode(d?C:h.s(C),b,a);if(null!==e)throw a=Error("Missing at least one required field for "+this.toString(!0)+": "+e),a.encoded=b,a;return b};J.fa=function(a){for(var b=0,d=0,e=this.S.length,h,l;d<e;++d){h=this.S[d];l=a[h.name];if(h.required&&
null===l)throw Error("Missing at least one required field for "+this.toString(!0)+": "+h);b+=h.fa(l,a)}return b};J.decode=function(a,b,d){b="number"===typeof b?b:-1;for(var e=a.offset,h=new this.v,l,r,C;a.offset<e+b||-1===b&&0<a.C();){l=a.D();r=l&7;C=l>>>3;if(r===c.i.ma){if(C!==d)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+C+" ("+(d?d+" expected":"not a group")+")");break}if(l=this.za[C])l.H&&!l.options.packed?h[l.name].push(l.decode(r,a)):l.map?(r=l.decode(r,a),h[l.name].set(r[0],
r[1])):(h[l.name]=l.decode(r,a),l.R&&(r=h[l.R.name],null!==r&&r!==l.name&&(h[r]=null),h[l.R.name]=l.name));else switch(r){case c.i.I:a.D();break;case c.i.ca:a.offset+=4;break;case c.i.da:a.offset+=8;break;case c.i.F:l=a.D();a.offset+=l;break;case c.i.ya:for(;P(C,a););break;default:throw Error("Illegal wire type for unknown field "+C+" in "+this.toString(!0)+"#decode: "+r);}}a=0;for(b=this.S.length;a<b;++a)if(l=this.S[a],null===h[l.name])if("proto3"===this.syntax)h[l.name]=l.defaultValue;else{if(l.required)throw a=
Error("Missing at least one required field for "+this.toString(!0)+": "+l.name),a.decoded=h,a;c.qb&&null!==l.defaultValue&&(h[l.name]=l.defaultValue)}return h};H.l=p;J=q.prototype=Object.create(m.prototype);J.O=function(){this.element=new N(this.type,this.A,!1,this.syntax);this.map&&(this.ka=new N(this.P,void 0,!0,this.syntax));"proto3"!==this.syntax||this.H||this.map?"undefined"!==typeof this.options["default"]&&(this.defaultValue=this.s(this.options["default"])):this.defaultValue=N.B(this.type)};
J.s=function(a,b){b=b||!1;var d=function(e,h){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+e+" ("+h+")");}.bind(this);if(null===a)return this.required&&d(typeof a,"required"),"proto3"===this.syntax&&this.type!==c.g.message&&d(typeof a,"proto3 field without field presence cannot be null"),null;if(this.H&&!b){Array.isArray(a)||(a=[a]);d=[];for(b=0;b<a.length;b++)d.push(this.element.s(a[b]));return d}if(this.map&&!b){if(a instanceof c.Map)return a;a instanceof Object||
d(typeof a,"expected ProtoBuf.Map or raw object for map field");return new c.Map(this,a)}!this.H&&Array.isArray(a)&&d(typeof a,"no array expected");return this.element.s(a)};J.Oa=function(a,b){if("proto3"!==this.syntax)return null!==a;if(this.R&&b[this.R.name]===this.name)return!0;switch(this.type){case c.g.int32:case c.g.sint32:case c.g.sfixed32:case c.g.uint32:case c.g.fixed32:return 0!==a;case c.g.int64:case c.g.sint64:case c.g.sfixed64:case c.g.uint64:case c.g.fixed64:return 0!==a.low||0!==a.high;
case c.g.bool:return a;case c.g["float"]:case c.g["double"]:return 0!==a;case c.g.string:return 0<a.length;case c.g.bytes:return 0<a.C();case c.g["enum"]:return 0!==a;case c.g.message:return null!==a;default:return!0}};J.encode=function(a,b,d){if(null===this.type||"object"!==typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===a||this.H&&0==a.length)return b;try{if(this.H){var e;if(this.options.packed&&0<=c.wa.indexOf(this.type.j)){b.u(this.id<<
3|c.i.F);b.Tb(b.offset+=1);var h=b.offset;for(e=0;e<a.length;e++)this.element.ia(this.id,a[e],b);var l=b.offset-h,r=z.o(l);if(1<r){var C=b.slice(h,b.offset);h+=r-1;b.offset=h;b.append(C)}b.u(l,h-r)}else for(e=0;e<a.length;e++)b.u(this.id<<3|this.type.j),this.element.ia(this.id,a[e],b)}else this.map?a.forEach(function(I,L){var A=z.o(8|this.P.j)+this.ka.Z(1,L)+z.o(16|this.type.j)+this.element.Z(2,I);b.u(this.id<<3|c.i.F);b.u(A);b.u(8|this.P.j);this.ka.ia(1,L,b);b.u(16|this.type.j);this.element.ia(2,
I,b)},this):this.Oa(a,d)&&(b.u(this.id<<3|this.type.j),this.element.ia(this.id,a,b))}catch(I){throw Error("Illegal value for "+this.toString(!0)+": "+a+" ("+I+")");}return b};J.fa=function(a,b){a=this.s(a);if(null===this.type||"object"!==typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===a||this.H&&0==a.length)return 0;var d=0;try{if(this.H){var e,h;if(this.options.packed&&0<=c.wa.indexOf(this.type.j)){d+=z.o(this.id<<3|c.i.F);for(e=h=0;e<a.length;e++)h+=
this.element.Z(this.id,a[e]);d+=z.o(h);d+=h}else for(e=0;e<a.length;e++)d+=z.o(this.id<<3|this.type.j),d+=this.element.Z(this.id,a[e])}else this.map?a.forEach(function(l,r){l=z.o(8|this.P.j)+this.ka.Z(1,r)+z.o(16|this.type.j)+this.element.Z(2,l);d+=z.o(this.id<<3|c.i.F);d+=z.o(l);d+=l},this):this.Oa(a,b)&&(d+=z.o(this.id<<3|this.type.j),d+=this.element.Z(this.id,a))}catch(l){throw Error("Illegal value for "+this.toString(!0)+": "+a+" ("+l+")");}return d};J.decode=function(a,b,d){if(!(!this.map&&a==
this.type.j||!d&&this.H&&this.options.packed&&a==c.i.F||this.map&&a==c.i.F))throw Error("Illegal wire type for field "+this.toString(!0)+": "+a+" ("+this.type.j+" expected)");if(a==c.i.F&&this.H&&this.options.packed&&0<=c.wa.indexOf(this.type.j)&&!d){a=b.D();a=b.offset+a;for(d=[];b.offset<a;)d.push(this.decode(this.type.j,b,!0));return d}if(this.map){var e=N.B(this.P);d=N.B(this.type);a=b.D();if(b.C()<a)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+a+" required but got only "+
b.C());var h=b.clone();h.lb=h.offset+a;for(b.offset+=a;0<h.C();)if(b=h.D(),a=b&7,b>>>=3,1===b)e=this.ka.decode(h,a,b);else if(2===b)d=this.element.decode(h,a,b);else throw Error("Unexpected tag in map field key/value submessage");return[e,d]}return this.element.decode(b,a,this.id)};H.l.L=q;t.prototype=Object.create(q.prototype);H.l.na=t;H.l.oa=function(a,b,d){m.call(this,a,b,d);this.ib=[]};f.jb=function(a,b){for(var d=Object.keys(a),e=0,h;e<d.length;++e)if(a[h=d[e]]===b)return h;return null};(f.prototype=
Object.create(F.prototype)).O=function(){if(this.object)return this.object;for(var a=new c.V.K,b=this.ja(f.pa),d=0,e=b.length;d<e;++d)a[b[d].name]=b[d].id;Object.defineProperty&&Object.defineProperty(a,"$options",{value:this.Y(),enumerable:!1});return this.object=a};H.K=f;B.prototype=Object.create(m.prototype);H.K.pa=B;n.prototype=Object.create(m.prototype);H.Ka=n;(D.prototype=Object.create(F.prototype)).O=function(){return this.v?this.v:this.v=function(a,b){function d(r){a.V.M.call(this);this.sb=
r||function(C,I,L){setTimeout(L.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}}for(var e=d.prototype=Object.create(a.V.M.prototype),h=b.ja(a.Reflect.M.xa),l=0;l<h.length;l++)(function(r){e[r.name]=function(C,I){try{try{C=r.ra.v.decode(z.Ia(C))}catch(L){if(!(L instanceof TypeError))throw L;}if(null===C||"object"!==typeof C)throw Error("Illegal arguments");C instanceof r.ra.v||(C=new r.ra.v(C));this.sb(r.qa(),C,function(L,A){if(L)I(L);else{try{A=r.Ea.v.decode(A)}catch(R){}A&&
A instanceof r.Ea.v?I(null,A):I(Error("Illegal response type received in service method "+b.name+"#"+r.name))}})}catch(L){setTimeout(I.bind(this,L),0)}};d[r.name]=function(C,I,L){(new d(C))[r.name](I,L)};Object.defineProperty&&(Object.defineProperty(d[r.name],"$options",{value:r.Y()}),Object.defineProperty(e[r.name],"$options",{value:d[r.name].$options}))})(h[l]);Object.defineProperty&&(Object.defineProperty(d,"$options",{value:b.Y()}),Object.defineProperty(e,"$options",{value:d.$options}),Object.defineProperty(d,
"$type",{value:b}),Object.defineProperty(e,"$type",{value:b}));return d}(c,this)};H.M=D;(u.prototype=Object.create(m.prototype)).Y=M.Y;H.M.Ya=u;x.prototype=Object.create(u.prototype);H.M.xa=x;return H}(k);k.V=function(c,x,u){function D(f){this.h=this.la=new u.ea(this,null,"");this.Ca=!1;this.$=null;this.B={};this.ba=null;this.options=f||{}}function n(f){f.messages&&f.messages.forEach(function(t){t.syntax=f.syntax;n(t)});f.enums&&f.enums.forEach(function(t){t.syntax=f.syntax})}var B=D.prototype;D.aa=
function(f){return"string"!==typeof f.name||"undefined"!==typeof f.values||"undefined"!==typeof f.rpc?!1:!0};D.B=function(f){return"string"===typeof f.name&&"undefined"!==typeof f.values&&Array.isArray(f.values)&&0!==f.values.length?!0:!1};D.ba=function(f){return"string"===typeof f.name&&"object"===typeof f.rpc&&f.rpc?!0:!1};D.$=function(f){return"string"!==typeof f.ref?!1:!0};B.aa=function(){this.h=this.la;return this};B.ob=function(f){if("string"!==typeof f||!x.La.test(f))throw Error("illegal namespace: "+
f);f.split(".").forEach(function(t){var q=this.h.G(t);null===q&&this.h.N(q=new u.ea(this,this.h,t));this.h=q},this)};B.create=function(f){if(!f)return this;if(Array.isArray(f)){if(0===f.length)return this;f=f.slice()}else f=[f];for(var t=[f];0<t.length;){f=t.pop();if(!Array.isArray(f))throw Error("not a valid namespace: "+JSON.stringify(f));for(;0<f.length;){var q=f.shift();if(D.aa(q)){var p=new u.l(this,this.h,q.name,q.options,q.isGroup,q.syntax),N={};q.oneofs&&Object.keys(q.oneofs).forEach(function(m){p.N(N[m]=
new u.l.oa(this,p,m))},this);q.fields&&q.fields.forEach(function(m){if(null!==p.G(m.id|0))throw Error("duplicate or invalid field id in "+p.name+": "+m.id);if(m.options&&"object"!==typeof m.options)throw Error("illegal field options in "+p.name+"#"+m.name);var G=null;if("string"===typeof m.oneof&&!(G=N[m.oneof]))throw Error("illegal oneof in "+p.name+"#"+m.name+": "+m.oneof);m=new u.l.L(this,p,m.rule,m.keytype,m.type,m.name,m.id,m.options,G,q.syntax);G&&G.ib.push(m);p.N(m)},this);var F=[];q.enums&&
q.enums.forEach(function(m){F.push(m)});q.messages&&q.messages.forEach(function(m){F.push(m)});q.services&&q.services.forEach(function(m){F.push(m)});q.extensions&&(p.T=q.extensions,p.T[0]<c.ua&&(p.T[0]=c.ua),p.T[1]>c.ta&&(p.T[1]=c.ta));this.h.N(p);if(0<F.length){t.push(f);f=F;F=null;this.h=p;p=null;continue}F=null}else if(D.B(q))p=new u.K(this,this.h,q.name,q.options,q.syntax),q.values.forEach(function(m){p.N(new u.K.pa(this,p,m.name,m.id))},this),this.h.N(p);else if(D.ba(q))p=new u.M(this,this.h,
q.name,q.options),Object.keys(q.rpc).forEach(function(m){var G=q.rpc[m];p.N(new u.M.xa(this,p,m,G.request,G.response,!!G.request_stream,!!G.response_stream,G.options))},this),this.h.N(p);else if(D.$(q))if(p=this.h.resolve(q.ref,!0))q.fields.forEach(function(m){if(null!==p.G(m.id|0))throw Error("duplicate extended field id in "+p.name+": "+m.id);if(m.id<p.T[0]||m.id>p.T[1])throw Error("illegal extended field id in "+p.name+": "+m.id+" ("+p.T.join(" to ")+" expected)");var G=m.name;this.options.convertFieldsToCamelCase&&
(G=c.X.Ta(G));G=new u.l.na(this,p,m.rule,m.type,this.h.qa()+"."+G,m.id,m.options);m=new u.Ka(this,this.h,m.name,G);G.hb=m;this.h.N(m);p.N(G)},this);else{if(!/\.?google\.protobuf\./.test(q.ref))throw Error("extended message "+q.ref+" is not defined");}else throw Error("not a valid definition: "+JSON.stringify(q));p=q=null}f=null;this.h=this.h.parent}this.Ca=!1;this.$=null;return this};B["import"]=function(f,t){var q="/";if("string"===typeof t){c.X.va&&(t=require("path").resolve(t));if(!0===this.B[t])return this.aa();
this.B[t]=!0}else if("object"===typeof t){var p=t.root;c.X.va&&(p=require("path").resolve(p));if(0<=p.indexOf("\\")||0<=t.file.indexOf("\\"))q="\\";p=p+q+t.file;if(!0===this.B[p])return this.aa();this.B[p]=!0}if(f.imports&&0<f.imports.length){var N=!1;if("object"===typeof t){if(this.ba=t.root,N=!0,p=this.ba,t=t.file,0<=p.indexOf("\\")||0<=t.indexOf("\\"))q="\\"}else"string"===typeof t?this.ba?p=this.ba:0<=t.indexOf("/")?(p=t.replace(/\/[^\/]*$/,""),""===p&&(p="/")):0<=t.indexOf("\\")?(p=t.replace(/\\[^\\]*$/,
""),q="\\"):p=".":p=null;for(var F=0;F<f.imports.length;F++)if("string"===typeof f.imports[F]){if(!p)throw Error("cannot determine import root");var m=f.imports[F];if("google/protobuf/descriptor.proto"!==m&&(m=p+q+m,!0!==this.B[m])){/\.proto$/i.test(m)&&!c.Va&&(m=m.replace(/\.proto$/,".json"));var G=c.X.fetch(m);if(null===G)throw Error("failed to import '"+m+"' in '"+t+"': file not found");if(/\.json$/i.test(m))this["import"](JSON.parse(G+""),m);else this["import"](c.Va.Jb.parse(G),m)}}else if(t)if(/\.(\w+)$/.test(t))this["import"](f.imports[F],
t.replace(/^(.+)\.(\w+)$/,function(H,M,J){return M+"_import"+F+"."+J}));else this["import"](f.imports[F],t+"_import"+F);else this["import"](f.imports[F]);N&&(this.ba=null)}f["package"]&&this.ob(f["package"]);f.syntax&&n(f);var P=this.h;f.options&&Object.keys(f.options).forEach(function(H){P.options[H]=f.options[H]});f.messages&&(this.create(f.messages),this.h=P);f.enums&&(this.create(f.enums),this.h=P);f.services&&(this.create(f.services),this.h=P);f["extends"]&&this.create(f["extends"]);return this.aa()};
B.Da=function(){if(null!=this.h&&"object"!==typeof this.h.type){if(this.h instanceof u.ea)this.h.children.forEach(function(t){this.h=t;this.Da()},this);else if(this.h instanceof u.l.L){if(x.TYPE.test(this.h.type))this.h.type=c.g[this.h.type];else{if(!x.La.test(this.h.type))throw Error("illegal type reference in "+this.h.toString(!0)+": "+this.h.type);var f=(this.h instanceof u.l.na?this.h.hb.parent:this.h.parent).resolve(this.h.type,!0);if(!f)throw Error("unresolvable type reference in "+this.h.toString(!0)+
": "+this.h.type);this.h.A=f;if(f instanceof u.K){if(this.h.type=c.g["enum"],"proto3"===this.h.syntax&&"proto3"!==f.syntax)throw Error("proto3 message cannot reference proto2 enum");}else if(f instanceof u.l)this.h.type=f.kb?c.g.group:c.g.message;else throw Error("illegal type reference in "+this.h.toString(!0)+": "+this.h.type);}if(this.h.map){if(!x.TYPE.test(this.h.P))throw Error("illegal key type for map field in "+this.h.toString(!0)+": "+this.h.P);this.h.P=c.g[this.h.P]}}else if(this.h instanceof
c.Reflect.M.Ya)if(this.h instanceof c.Reflect.M.xa){f=this.h.parent.resolve(this.h.Qa,!0);if(!(f&&f instanceof c.Reflect.l))throw Error("Illegal type reference in "+this.h.toString(!0)+": "+this.h.Qa);this.h.ra=f;f=this.h.parent.resolve(this.h.Ra,!0);if(!(f&&f instanceof c.Reflect.l))throw Error("Illegal type reference in "+this.h.toString(!0)+": "+this.h.Ra);this.h.Ea=f}else throw Error("illegal service type in "+this.h.toString(!0));else if(!(this.h instanceof c.Reflect.l.oa||this.h instanceof c.Reflect.Ka||
this.h instanceof c.Reflect.K.pa))throw Error("illegal object in namespace: "+typeof this.h+": "+this.h);this.aa()}};B.O=function(){this.aa();this.Ca||(this.Da(),this.Ca=!0,this.$=null);null===this.$&&(this.$=this.la.O());return this.$};B.oc=function(f,t){return f?this.la.resolve(f,t):this.la};B.toString=function(){return"Builder"};D.l=function(){};D.K=function(){};D.M=function(){};return D}(k,k.Wa,k.Reflect);k.Map=function(c,x){function u(n,B){if(!n.map)throw Error("field is not a map");this.J=new x.Element(n.P,
null,!0,n.syntax);this.Ha=new x.Element(n.type,n.A,!1,n.syntax);this.map={};Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}});if(B){n=Object.keys(B);for(var f=0;f<n.length;f++){var t=this.J.ub(n[f]),q=this.Ha.s(B[n[f]]);this.map[this.J.ga(t)]={key:t,value:q}}}}function D(n){var B=0;return{next:function(){return B<n.length?{done:!1,value:n[B++]}:{done:!0}}}}c=u.prototype;c.clear=function(){this.map={}};c["delete"]=function(n){n=this.J.ga(this.J.s(n));var B=n in
this.map;delete this.map[n];return B};c.entries=function(){for(var n=[],B=Object.keys(this.map),f=0,t;f<B.length;f++)n.push([(t=this.map[B[f]]).key,t.value]);return D(n)};c.keys=function(){for(var n=[],B=Object.keys(this.map),f=0;f<B.length;f++)n.push(this.map[B[f]].key);return D(n)};c.values=function(){for(var n=[],B=Object.keys(this.map),f=0;f<B.length;f++)n.push(this.map[B[f]].value);return D(n)};c.forEach=function(n,B){for(var f=Object.keys(this.map),t=0,q;t<f.length;t++)n.call(B,(q=this.map[f[t]]).value,
q.key,this)};c.set=function(n,B){n=this.J.s(n);B=this.Ha.s(B);this.map[this.J.ga(n)]={key:n,value:B};return this};c.get=function(n){n=this.J.ga(this.J.s(n));if(n in this.map)return this.map[n].value};c.has=function(n){return this.J.ga(this.J.s(n))in this.map};return u}(k,k.Reflect);k.nb=function(){var c=c||{};"undefined"===typeof c.convertFieldsToCamelCase&&(c.convertFieldsToCamelCase=k.bb);"undefined"===typeof c.populateAccessors&&(c.populateAccessors=k.pb);return new k.V(c)};k.Pa=function(c,x,u){if("string"===
typeof x||x&&"string"===typeof x.file&&"string"===typeof x.root)u=x,x=null;x&&"object"===typeof x||(x=k.nb());"string"===typeof c&&(c=JSON.parse(c));x["import"](c,u);x.Da();return x};k.$b=function(c,x,u){x&&"object"===typeof x?(u=x,x=null):x&&"function"===typeof x||(x=null);if(x)return k.X.fetch("string"===typeof c?c:c.root+"/"+c.file,function(n){if(null===n)x(Error("Failed to fetch file"));else try{x(null,k.Pa(JSON.parse(n),u,c))}catch(B){x(B)}});var D=k.X.fetch("object"===typeof c?c.root+"/"+c.file:
c);return null===D?null:k.Pa(JSON.parse(D),u,c)};return k}"function"===typeof define&&define.amd?define(["ByteBuffer"],S):"function"===typeof require&&"object"===typeof module&&module&&module.exports?module.exports=S(require("bytebuffer"),!0):(this.dcodeIO=this.dcodeIO||{}).ProtoBuf=S(this.dcodeIO.ByteBuffer);
