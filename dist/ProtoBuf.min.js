/*
 ProtoBuf.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 Released under the Apache License, Version 2.0
 see: https://github.com/dcodeIO/ProtoBuf.js for details
*/
function S(D){var p={};p.Yb=D;p.s=D.s||null;p.VERSION="4.1.3";p.j={};p.j.O=0;p.j.ka=1;p.j.I=2;p.j.Ia=3;p.j.va=4;p.j.ja=5;p.Fa=[p.j.O,p.j.ka,p.j.ja];p.g={int32:{name:"int32",l:p.j.O,defaultValue:0},uint32:{name:"uint32",l:p.j.O,defaultValue:0},sint32:{name:"sint32",l:p.j.O,defaultValue:0},int64:{name:"int64",l:p.j.O,defaultValue:p.s?p.s.ZERO:void 0},uint64:{name:"uint64",l:p.j.O,defaultValue:p.s?p.s.zb:void 0},sint64:{name:"sint64",l:p.j.O,defaultValue:p.s?p.s.ZERO:void 0},bool:{name:"bool",l:p.j.O,
defaultValue:!1},"double":{name:"double",l:p.j.ka,defaultValue:0},string:{name:"string",l:p.j.I,defaultValue:""},bytes:{name:"bytes",l:p.j.I,defaultValue:null},fixed32:{name:"fixed32",l:p.j.ja,defaultValue:0},sfixed32:{name:"sfixed32",l:p.j.ja,defaultValue:0},fixed64:{name:"fixed64",l:p.j.ka,defaultValue:p.s?p.s.zb:void 0},sfixed64:{name:"sfixed64",l:p.j.ka,defaultValue:p.s?p.s.ZERO:void 0},"float":{name:"float",l:p.j.ja,defaultValue:0},"enum":{name:"enum",l:p.j.O,defaultValue:0},message:{name:"message",
l:p.j.I,defaultValue:null},group:{name:"group",l:p.j.Ia,defaultValue:null}};p.sb=[p.g.int32,p.g.sint32,p.g.sfixed32,p.g.uint32,p.g.fixed32,p.g.int64,p.g.sint64,p.g.sfixed64,p.g.uint64,p.g.fixed64,p.g.bool,p.g.string,p.g.bytes];p.pa=1;p.oa=536870911;p.Cb=!1;p.Pb=!0;p.Qb=!0;p.Y=function(){var c={};c.Ea=!("object"!==typeof process||"[object process]"!==process+""||process.browser);c.Bb=function(){for(var m=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},
function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],v=null,F=0;F<m.length;F++){try{v=m[F]()}catch(t){continue}break}if(!v)throw Error("XMLHttpRequest is not supported");return v};c.fetch=function(m,v){v&&"function"!=typeof v&&(v=null);if(c.Ea){var F=require("fs");if(v)F.tc(m,function(y,k){y?v(null):v(""+k)});else try{return F.uc(m)}catch(y){return null}}else{var t=c.Bb();t.open("GET",m,v?!0:!1);t.setRequestHeader("Accept","text/plain");
"function"===typeof t.overrideMimeType&&t.overrideMimeType("text/plain");if(v)t.onreadystatechange=function(){4==t.readyState&&(200==t.status||0==t.status&&"string"===typeof t.responseText?v(t.responseText):v(null))},4!=t.readyState&&t.send(null);else return t.send(null),200==t.status||0==t.status&&"string"===typeof t.responseText?t.responseText:null}};c.jb=function(m){return m.replace(/_([a-zA-Z])/g,function(v,F){return F.toUpperCase()})};return c}();p.Ya={Ca:/[\s\{\}=;:\[\],'"\(\)<>]/g,Ha:/^(?:required|optional|repeated|map)$/,
TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,X:/^[a-zA-Z_][a-zA-Z_0-9]*$/,bc:/^[a-zA-Z][a-zA-Z_0-9]*$/,J:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,rb:/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/,ub:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,Za:/^(?:[1-9][0-9]*|0)$/,$a:/^0[xX][0-9a-fA-F]+$/,ab:/^0[0-7]+$/,vb:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,BOOL:/^(?:true|false)$/i,
Zb:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,$b:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,Ab:/\s/,ac:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,wb:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,xb:/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g};p.Da=function(c,m){function v(e){this.h=new F(e);this.ua=!1}function F(e){this.source=e;this.index=0;this.line=1;this.h=[];this.u=null}function t(e,d){var n=1;"-"==e.charAt(0)&&(n=-1,e=e.substring(1));if(m.Za.test(e))var g=parseInt(e);else if(m.$a.test(e))g=
parseInt(e.substring(2),16);else if(m.ab.test(e))g=parseInt(e.substring(1),8);else throw Error("illegal id value: "+(0>n?"-":"")+e);g=n*g|0;if(!d&&0>g)throw Error("illegal id value: "+(0>n?"-":"")+e);return g}function y(e){var d=1;"-"==e.charAt(0)&&(d=-1,e=e.substring(1));if(m.Za.test(e))return d*parseInt(e,10);if(m.$a.test(e))return d*parseInt(e.substring(2),16);if(m.ab.test(e))return d*parseInt(e.substring(1),8);if("inf"===e)return Infinity*d;if("nan"===e)return NaN;if(m.vb.test(e))return d*parseFloat(e);
throw Error("illegal number value: "+(0>d?"-":"")+e);}function k(e,d,n){"undefined"===typeof e[d]?e[d]=n:(Array.isArray(e[d])||(e[d]=[e[d]]),e[d].push(n))}var w={},u=F.prototype;u.D=function(){var e='"'===this.u?m.wb:m.xb;e.lastIndex=this.index-1;var d=e.exec(this.source);if(!d)throw Error("unterminated string");this.index=e.lastIndex;this.h.push(this.u);this.u=null;return d[1]};u.next=function(){if(0<this.h.length)return this.h.shift();if(this.index>=this.source.length)return null;if(null!==this.u)return this.D();
var e,d;do{for(e=!1;m.Ab.test(d=this.source.charAt(this.index));)if("\n"===d&&++this.line,++this.index===this.source.length)return null;if("/"===this.source.charAt(this.index))if(++this.index,"/"===this.source.charAt(this.index)){for(;"\n"!==this.source.charAt(++this.index);)if(this.index==this.source.length)return null;++this.index;++this.line;e=!0}else if("*"===(d=this.source.charAt(this.index))){do{"\n"===d&&++this.line;if(++this.index===this.source.length)return null;e=d;d=this.source.charAt(this.index)}while("*"!==
e||"/"!==d);++this.index;e=!0}else return"/"}while(e);if(this.index===this.source.length)return null;d=this.index;m.Ca.lastIndex=0;if(!m.Ca.test(this.source.charAt(d++)))for(;d<this.source.length&&!m.Ca.test(this.source.charAt(d));)++d;d=this.source.substring(this.index,this.index=d);if('"'===d||"'"===d)this.u=d;return d};u.M=function(){if(0===this.h.length){var e=this.next();if(null===e)return null;this.h.push(e)}return this.h[0]};u.m=function(e){var d=this.next();if(d!==e)throw Error("illegal '"+
d+"', '"+e+"' expected");};u.ca=function(e){return this.M()===e?(this.next(),!0):!1};u.toString=function(){return"Tokenizer ("+this.index+"/"+this.source.length+" at line "+this.line+")"};w.cc=F;u=v.prototype;u.parse=function(){var e={name:"[ROOT]","package":null,messages:[],enums:[],imports:[],options:{},services:[]},d,n=!0;try{for(;d=this.h.next();)switch(d){case "package":if(!n||null!==e["package"])throw Error("unexpected 'package'");d=this.h.next();if(!m.J.test(d))throw Error("illegal package name: "+
d);this.h.m(";");e["package"]=d;break;case "import":if(!n)throw Error("unexpected 'import'");d=this.h.M();"public"===d&&this.h.next();d=this.Z();this.h.m(";");e.imports.push(d);break;case "syntax":if(!n)throw Error("unexpected 'syntax'");this.h.m("=");"proto3"===(e.syntax=this.Z())&&(this.ua=!0);this.h.m(";");break;case "message":this.ia(e,null);n=!1;break;case "enum":this.Qa(e);n=!1;break;case "option":this.u(e);break;case "service":this.pb(e);break;case "extend":this.lb(e);break;default:throw Error("unexpected '"+
d+"'");}}catch(g){throw g.message="Parse error at line "+this.h.line+": "+g.message,g;}delete e.name;return e};v.parse=function(e){return(new v(e)).parse()};u.Z=function(){var e="";do{var d=this.h.next();if("'"!==d&&'"'!==d)throw Error("illegal string delimiter: "+d);e+=this.h.next();this.h.m(d);d=this.h.M()}while('"'===d||'"'===d);return e};u.Wa=function(){var e=this.h.M();if('"'===e||"'"===e)return this.Z();this.h.next();if(m.ub.test(e))return y(e);if(m.BOOL.test(e))return"true"===e.toLowerCase();
if(m.J.test(e))return e;throw Error("illegal value: "+e);};u.u=function(e,d){var n=this.h.next(),g=!1;"("===n&&(g=!0,n=this.h.next());if(!m.J.test(n))throw Error("illegal option name: "+n);var B=n;g&&(this.h.m(")"),B="("+B+")",n=this.h.M(),m.rb.test(n)&&(B+=n,this.h.next()));this.h.m("=");this.mb(e,B);d||this.h.m(";")};u.mb=function(e,d){var n=this.h.M();if("{"!==n)k(e.options,d,this.Wa());else for(this.h.m("{");"}"!==(n=this.h.next());){if(!m.X.test(n))throw Error("illegal option name: "+d+"."+n);
this.h.ca(":")?k(e.options,d+"."+n,this.Wa()):this.mb(e,d+"."+n)}};u.pb=function(e){var d=this.h.next();if(!m.X.test(d))throw Error("illegal service name at line "+this.h.line+": "+d);var n={name:d,rpc:{},options:{}};for(this.h.m("{");"}"!==(d=this.h.next());)if("option"===d)this.u(n);else if("rpc"===d)this.qb(n);else throw Error("illegal service token: "+d);this.h.ca(";");e.services.push(n)};u.qb=function(e){var d=this.h.next();if(!m.X.test(d))throw Error("illegal rpc service method name: "+d);var n=
d,g={request:null,response:null,request_stream:!1,response_stream:!1,options:{}};this.h.m("(");d=this.h.next();"stream"===d.toLowerCase()&&(g.request_stream=!0,d=this.h.next());if(!m.J.test(d))throw Error("illegal rpc service request type: "+d);g.request=d;this.h.m(")");d=this.h.next();if("returns"!==d.toLowerCase())throw Error("illegal rpc service request type delimiter: "+d);this.h.m("(");d=this.h.next();"stream"===d.toLowerCase()&&(g.response_stream=!0,d=this.h.next());g.response=d;this.h.m(")");
d=this.h.M();if("{"===d){for(this.h.next();"}"!==(d=this.h.next());)if("option"===d)this.u(g);else throw Error("illegal rpc service token: "+d);this.h.ca(";")}else this.h.m(";");"undefined"===typeof e.rpc&&(e.rpc={});e.rpc[n]=g};u.ia=function(e,d){var n=!!d,g=this.h.next(),B={name:"",fields:[],enums:[],messages:[],options:{},oneofs:{}};if(!m.X.test(g))throw Error("illegal "+(n?"group":"message")+" name: "+g);B.name=g;n&&(this.h.m("="),d.id=t(this.h.next()),B.isGroup=!0);g=this.h.M();"["===g&&d&&this.L(d);
for(this.h.m("{");"}"!==(g=this.h.next());)if(m.Ha.test(g))this.D(B,g);else if("oneof"===g)this.ob(B);else if("enum"===g)this.Qa(B);else if("message"===g)this.ia(B);else if("option"===g)this.u(B);else if("extensions"===g)this.nb(B);else if("extend"===g)this.lb(B);else if(m.J.test(g)){if(!this.ua)throw Error("illegal field rule: "+g);this.D(B,"optional",g)}else throw Error("illegal message token: "+g);this.h.ca(";");e.messages.push(B);return B};u.D=function(e,d,n){if(!m.Ha.test(d))throw Error("illegal message field rule: "+
d);var g={rule:d,type:"",name:"",options:{},id:0};if("map"===d){if(n)throw Error("illegal type: "+n);this.h.m("<");d=this.h.next();if(!m.TYPE.test(d)&&!m.J.test(d))throw Error("illegal message field type: "+d);g.keytype=d;this.h.m(",");d=this.h.next();if(!m.TYPE.test(d)&&!m.J.test(d))throw Error("illegal message field: "+d);g.type=d;this.h.m(">");d=this.h.next();if(!m.X.test(d))throw Error("illegal message field name: "+d);g.name=d;this.h.m("=");g.id=t(this.h.next());d=this.h.M();"["===d&&this.L(g);
this.h.m(";")}else if(n="undefined"!==typeof n?n:this.h.next(),"group"===n){d=this.ia(e,g);if(!/^[A-Z]/.test(d.name))throw Error("illegal group name: "+d.name);g.type=d.name;g.name=d.name.toLowerCase();this.h.ca(";")}else{if(!m.TYPE.test(n)&&!m.J.test(n))throw Error("illegal message field type: "+n);g.type=n;d=this.h.next();if(!m.X.test(d))throw Error("illegal message field name: "+d);g.name=d;this.h.m("=");g.id=t(this.h.next());d=this.h.M();"["===d&&this.L(g);this.h.m(";")}e.fields.push(g);return g};
u.ob=function(e){var d=this.h.next();if(!m.X.test(d))throw Error("illegal oneof name: "+d);var n=d,g=[];for(this.h.m("{");"}"!==(d=this.h.next());)d=this.D(e,"optional",d),d.oneof=n,g.push(d.id);this.h.ca(";");e.oneofs[n]=g};u.L=function(e){this.h.m("[");for(var d=!0;"]"!==this.h.M();)d||this.h.m(","),this.u(e,!0),d=!1;this.h.next()};u.Qa=function(e){var d={name:"",values:[],options:{}},n=this.h.next();if(!m.X.test(n))throw Error("illegal name: "+n);d.name=n;for(this.h.m("{");"}"!==(n=this.h.next());)if("option"===
n)this.u(d);else{if(!m.X.test(n))throw Error("illegal name: "+n);this.h.m("=");var g={name:n,id:t(this.h.next(),!0)};n=this.h.M();"["===n&&this.L({options:{}});this.h.m(";");d.values.push(g)}this.h.ca(";");e.enums.push(d)};u.nb=function(e){var d=this.h.next(),n=[];"min"===d?n.push(c.pa):"max"===d?n.push(c.oa):n.push(y(d));this.h.m("to");d=this.h.next();"min"===d?n.push(c.pa):"max"===d?n.push(c.oa):n.push(y(d));this.h.m(";");e.extensions=n};u.lb=function(e){var d=this.h.next();if(!m.J.test(d))throw Error("illegal extend reference: "+
d);var n={ref:d,fields:[]};for(this.h.m("{");"}"!==(d=this.h.next());)if(m.Ha.test(d))this.D(n,d);else if(m.J.test(d)){if(!this.ua)throw Error("illegal field rule: "+d);this.D(n,"optional",d)}else throw Error("illegal extend token: "+d);this.h.ca(";");e.messages.push(n)};u.toString=function(){return"Parser at line "+this.h.line};w.bb=v;return w}(p,p.Ya);p.Reflect=function(c){function m(a,b,f,h,q,r,x,G){v.call(this,a,b,f,G);this.className="Service.RPCMethod";this.gb=h;this.hb=q;this.Pa=this.Aa=null}
function v(a,b,f,h){g.call(this,a,b,f);this.className="Service.Method";this.options=h||{}}function F(a,b,f,h){n.call(this,a,b,f,h);this.className="Service";this.C=null}function t(a,b,f){g.call(this,a,b,f)}function y(a,b,f,h){g.call(this,a,b,f);this.className="Enum.Value";this.id=h}function k(a,b,f,h,q){n.call(this,a,b,f,h,q);this.className="Enum";this.object=null}function w(a,b,f,h,q,r,x){u.call(this,a,b,f,null,h,q,r,x)}function u(a,b,f,h,q,r,x,G,J,M){g.call(this,a,b,r);this.className="Message.Field";
this.required="required"===f;this.N="repeated"===f;this.map="map"===f;this.W=h||null;this.type=q;this.F=null;this.id=x;this.options=G||{};this.defaultValue=null;this.$=J||null;this.syntax=M||"proto2";this.da=this.name;this.ta=this.element=null;!this.cb.options.convertFieldsToCamelCase||this instanceof e.wa||(this.name=c.Y.jb(this.name))}function e(a,b,f,h,q,r){n.call(this,a,b,f,h,r);this.className="Message";this.ba=[c.pa,c.oa];this.C=null;this.Kb=!!q;this.qa=this.Ja=this.aa=null}function d(a,b,f,
h){this.type=a;this.F=b;this.h=f;this.syntax=h;if(f&&0>c.sb.indexOf(a))throw Error("Invalid map key type: "+a.name);}function n(a,b,f,h,q){g.call(this,a,b,f);this.className="Namespace";this.children=[];this.options=h||{};this.syntax=q||"proto2"}function g(a,b,f){this.cb=a;this.parent=b;this.name=f}function B(a,b){if(a&&"number"===typeof a.low&&"number"===typeof a.high&&"boolean"===typeof a.Tb&&a.low===a.low&&a.high===a.high)return new c.s(a.low,a.high,"undefined"===typeof b?a.Tb:b);if("string"===
typeof a)return c.s.kc(a,b||!1,10);if("number"===typeof a)return c.s.jc(a,b||!1);throw Error("not convertible to Long");}function P(a,b){var f=b.H(),h=f&7;f>>>=3;switch(h){case c.j.O:do f=b.Ac();while(128===(f&128));break;case c.j.ka:b.offset+=8;break;case c.j.I:f=b.H();b.offset+=f;break;case c.j.Ia:P(f,b);break;case c.j.va:if(f===a)return!1;throw Error("Illegal GROUPEND after unknown group: "+f+" ("+a+" expected)");case c.j.ja:b.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+
a+": "+h);}return!0}var I={},N=g.prototype;N.za=function(){var a=this.name,b=this;do{b=b.parent;if(null==b)break;a=b.name+"."+a}while(1);return a};N.toString=function(a){return(a?this.className+" ":"")+this.za()};N.V=function(){throw Error(this.toString(!0)+" cannot be built directly");};I.yb=g;N=n.prototype=Object.create(g.prototype);N.sa=function(a){a=a||null;if(null==a)return this.children.slice();for(var b=[],f=0,h=this.children.length;f<h;++f)this.children[f]instanceof a&&b.push(this.children[f]);
return b};N.U=function(a){var b;if(b=this.K(a.name))if(b instanceof e.S&&b.name!==b.da&&null===this.K(b.da))b.name=b.da;else if(a instanceof e.S&&a.name!==a.da&&null===this.K(a.da))a.name=a.da;else throw Error("Duplicate name in namespace "+this.toString(!0)+": "+a.name);this.children.push(a)};N.K=function(a){for(var b="number"===typeof a?"id":"name",f=0,h=this.children.length;f<h;++f)if(this.children[f][b]===a)return this.children[f];return null};N.resolve=function(a,b){var f="string"===typeof a?
a.split("."):a,h=this,q=0;if(""===f[q]){for(;null!==h.parent;)h=h.parent;q++}do{do{if(!(h instanceof I.la)){h=null;break}h=h.K(f[q]);if(!(h&&h instanceof I.yb)||b&&!(h instanceof I.la)){h=null;break}q++}while(q<f.length);if(null!=h)break;if(null!==this.parent)return this.parent.resolve(a,b)}while(null!=h);return h};N.rc=function(a){var b=[],f=a;do b.unshift(f.name),f=f.parent;while(null!==f);for(f=1;f<=b.length;f++){var h=b.slice(b.length-f);if(a===this.resolve(h,a instanceof I.la))return h.join(".")}return a.za()};
N.V=function(){for(var a={},b=this.children,f=0,h=b.length,q;f<h;++f)q=b[f],q instanceof n&&(a[q.name]=q.V());Object.defineProperty&&Object.defineProperty(a,"$options",{value:this.ga()});return a};N.ga=function(){for(var a={},b=Object.keys(this.options),f=0,h=b.length;f<h;++f)a[b[f]]=this.options[b[f]];return a};N.mc=function(a){return"undefined"===typeof a?this.options:"undefined"!==typeof this.options[a]?this.options[a]:null};I.la=n;var K=d.prototype;d.h=function(a){"string"===typeof a&&(a=c.g[a]);
if("undefined"===typeof a.defaultValue)throw Error("default value for type "+a.name+" is not supported");return a==c.g.bytes?new D(0):a.defaultValue};K.A=function(a){var b=function(q,r){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+q+" ("+r+")");}.bind(this);switch(this.type){case c.g.int32:case c.g.sint32:case c.g.sfixed32:return("number"!==typeof a||a===a&&0!==a%1)&&b(typeof a,"not an integer"),4294967295<a?a|0:a;case c.g.uint32:case c.g.fixed32:return("number"!==
typeof a||a===a&&0!==a%1)&&b(typeof a,"not an integer"),0>a?a>>>0:a;case c.g.int64:case c.g.sint64:case c.g.sfixed64:if(c.s)try{return B(a,!1)}catch(q){b(typeof a,q.message)}else b(typeof a,"requires Long.js");case c.g.uint64:case c.g.fixed64:if(c.s)try{return B(a,!0)}catch(q){b(typeof a,q.message)}else b(typeof a,"requires Long.js");case c.g.bool:return"boolean"!==typeof a&&b(typeof a,"not a boolean"),a;case c.g["float"]:case c.g["double"]:return"number"!==typeof a&&b(typeof a,"not a number"),a;
case c.g.string:return"string"===typeof a||a&&a instanceof String||b(typeof a,"not a string"),""+a;case c.g.bytes:return D.La(a)?a:D.Ua(a,"base64");case c.g["enum"]:var f=this.F.sa(c.Reflect.R.ya);for(h=0;h<f.length;h++)if(f[h].name==a||f[h].id==a)return f[h].id;if("proto3"===this.syntax)return("number"!==typeof a||a===a&&0!==a%1)&&b(typeof a,"not an integer"),(4294967295<a||0>a)&&b(typeof a,"not in range for uint32"),a;b(a,"not a valid enum value");case c.g.group:case c.g.message:a&&"object"===typeof a||
b(typeof a,"object expected");if(a instanceof this.F.C)return a;if(a instanceof c.ea.o){b={};for(var h in a)a.hasOwnProperty(h)&&(b[h]=a[h]);a=b}return new this.F.C(a)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+a+" (undefined type "+this.type+")");};K.ha=function(a,b){if(null===b)return 0;switch(this.type){case c.g.int32:return 0>b?D.eb(b):D.v(b);case c.g.uint32:return D.v(b);case c.g.sint32:return D.v(D.Pc(b));case c.g.fixed32:case c.g.sfixed32:case c.g["float"]:return 4;
case c.g.int64:case c.g.uint64:return D.eb(b);case c.g.sint64:return D.eb(D.Qc(b));case c.g.fixed64:case c.g.sfixed64:return 8;case c.g.bool:return 1;case c.g["enum"]:return D.v(b);case c.g["double"]:return 8;case c.g.string:return b=D.dc(b),D.v(b)+b;case c.g.bytes:if(0>b.G())throw Error("Illegal value for "+this.toString(!0)+": "+b.G()+" bytes remaining");return D.v(b.G())+b.G();case c.g.message:return b=this.F.ma(b),D.v(b)+b;case c.g.group:return b=this.F.ma(b),b+D.v(a<<3|c.j.va)}throw Error("[INTERNAL] Illegal value to encode in "+
this.toString(!0)+": "+b+" (unknown type)");};K.ra=function(a,b,f){if(null!==b)switch(this.type){case c.g.int32:0>b?f.Vb(b):f.B(b);break;case c.g.uint32:f.B(b);break;case c.g.sint32:f.Nc(b);break;case c.g.fixed32:f.Kc(b);break;case c.g.sfixed32:f.Ic(b);break;case c.g.int64:case c.g.uint64:f.Vb(b);break;case c.g.sint64:f.Oc(b);break;case c.g.fixed64:f.Lc(b);break;case c.g.sfixed64:f.Jc(b);break;case c.g.bool:"string"===typeof b?f.B("false"===b.toLowerCase()?0:!!b):f.B(b?1:0);break;case c.g["enum"]:f.B(b);
break;case c.g["float"]:f.Gc(b);break;case c.g["double"]:f.Hc(b);break;case c.g.string:f.Mc(b);break;case c.g.bytes:if(0>b.G())throw Error("Illegal value for "+this.toString(!0)+": "+b.G()+" bytes remaining");a=b.offset;f.B(b.G());f.append(b);b.offset=a;break;case c.g.message:a=(new D).fa();this.F.encode(b,a);f.B(a.offset);f.append(a.Ka());break;case c.g.group:this.F.encode(b,f);f.B(a<<3|c.j.va);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+b+" (unknown type)");
}};K.decode=function(a,b,f){if(b!=this.type.l)throw Error("Unexpected wire type for element");switch(this.type){case c.g.int32:return a.H()|0;case c.g.uint32:return a.H()>>>0;case c.g.sint32:return a.Cc()|0;case c.g.fixed32:return a.yc()>>>0;case c.g.sfixed32:return a.wc()|0;case c.g.int64:return a.Rb();case c.g.uint64:return a.Rb().Fc();case c.g.sint64:return a.Dc();case c.g.fixed64:return a.zc();case c.g.sfixed64:return a.xc();case c.g.bool:return!!a.H();case c.g["enum"]:return a.H();case c.g["float"]:return a.vc();
case c.g["double"]:return a.sc();case c.g.string:return a.Bc();case c.g.bytes:f=a.H();if(a.G()<f)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+f+" required but got only "+a.G());b=a.clone();b.Lb=b.offset+f;a.offset+=f;return b;case c.g.message:return f=a.H(),this.F.decode(a,f);case c.g.group:return this.F.decode(a,-1,f)}throw Error("[INTERNAL] Illegal decode type");};K.Ub=function(a){if(!this.h)throw Error("valueFromString() called on non-map-key element");switch(this.type){case c.g.int32:case c.g.sint32:case c.g.sfixed32:case c.g.uint32:case c.g.fixed32:return this.A(parseInt(a));
case c.g.int64:case c.g.sint64:case c.g.sfixed64:case c.g.uint64:case c.g.fixed64:return this.A(a);case c.g.bool:return"true"===a;case c.g.string:return this.A(a);case c.g.bytes:return D.ic(a)}};K.na=function(a){if(!this.h)throw Error("valueToString() called on non-map-key element");return this.type===c.g.bytes?a.toString("binary"):a.toString()};I.Element=d;K=e.prototype=Object.create(n.prototype);K.V=function(){if(this.C)return this.C;var a=function(q,r){function x(l,z){q.ea.o.call(this);for(var C=
0,A=M.length;C<A;++C)this[M[C].name]=null;C=0;for(A=J.length;C<A;++C){var H=J[C];this[H.name]=H.N?[]:H.map?new q.Map(H):null;!H.required&&"proto3"!==r.syntax||null===H.defaultValue||(this[H.name]=H.defaultValue)}if(0<arguments.length){var L;if(1!==arguments.length||null===l||"object"!==typeof l||!("function"!==typeof l.encode||l instanceof x)||Array.isArray(l)||l instanceof q.Map||D.La(l)||l instanceof ArrayBuffer||q.s&&l instanceof q.s)for(C=0,A=arguments.length;C<A;++C)"undefined"!==typeof(L=arguments[C])&&
this.Ba(J[C].name,L);else this.Ba(l)}}function G(l,z,C,A){if(null===l||"object"!==typeof l){if(A&&A instanceof q.Reflect.R){var H=q.Reflect.R.Jb(A.object,l);if(null!==H)return H}return l}if(D.La(l))return z?l.Ra():l.Sa();if(q.s.nc(l))return C?l.toString():q.s.lc(l);if(Array.isArray(l)){var L=[];l.forEach(function(W,X){L[X]=G(W,z,C,A)});return L}L={};if(l instanceof q.Map){H=l.entries();for(var O=H.next();!O.done;O=H.next())L[l.P.na(O.value[0])]=G(O.value[1],z,C,l.Ta.F);return L}H=l.Va;O=void 0;for(var U=
Object.keys(l),T=0,Y=U.length;T<Y;T++){var Q=U[T];H&&(O=H.K(Q))?L[Q]=G(l[Q],z,C,O.F):L[Q]=G(l[Q],z,C)}return L}var J=r.sa(q.Reflect.o.S),M=r.sa(q.Reflect.o.xa),E=x.prototype=Object.create(q.ea.o.prototype);E.add=function(l,z,C){var A=r.qa[l];if(!C){if(!A)throw Error(this+"#"+l+" is undefined");if(!(A instanceof q.Reflect.o.S))throw Error(this+"#"+l+" is not a field: "+A.toString(!0));if(!A.N)throw Error(this+"#"+l+" is not a repeated field");z=A.A(z,!0)}null===this[l]&&(this[l]=[]);this[l].push(z);
return this};E.Wb=E.add;E.set=function(l,z,C){if(l&&"object"===typeof l){C=z;for(var A=Object.keys(l),H=0,L=A.length;H<L;H++){var O=A[H];"undefined"!==typeof(z=l[O])&&this.Ba(O,z,C)}return this}A=r.qa[l];if(C)this[l]=z;else{if(!A)throw Error(this+"#"+l+" is not a field: undefined");if(!(A instanceof q.Reflect.o.S))throw Error(this+"#"+l+" is not a field: "+A.toString(!0));this[A.name]=z=A.A(z)}A&&A.$&&(C=this[A.$.name],null!==z?(null!==C&&C!==A.name&&(this[C]=null),this[A.$.name]=A.name):C===l&&(this[A.$.name]=
null));return this};E.Ba=E.set;E.get=function(l,z){if(z)return this[l];z=r.qa[l];if(!(z&&z instanceof q.Reflect.o.S))throw Error(this+"#"+l+" is not a field: undefined");if(!(z instanceof q.Reflect.o.S))throw Error(this+"#"+l+" is not a field: "+z.toString(!0));return this[z.name]};E.Xb=E.get;for(var R=0;R<J.length;R++){var V=J[R];V instanceof q.Reflect.o.wa||r.cb.options.populateAccessors&&function(l){function z(){return this[l.name]}function C(L,O){this[l.name]=O?L:l.A(L);return this}var A=l.da.replace(/(_[a-zA-Z])/g,
function(L){return L.toUpperCase().replace("_","")});A=A.substring(0,1).toUpperCase()+A.substring(1);var H=l.da.replace(/([A-Z])/g,function(L){return"_"+L});null===r.K("set"+A)&&(E["set"+A]=C);null===r.K("set_"+H)&&(E["set_"+H]=C);null===r.K("get"+A)&&(E["get"+A]=z);null===r.K("get_"+H)&&(E["get_"+H]=z)}(V)}E.encode=function(l,z){"boolean"===typeof l&&(z=l,l=void 0);var C=!1;l||(l=new D,C=!0);var A=l.Mb;try{return r.encode(this,l.fa(),z),(C?l.Ka():l).fa(A)}catch(H){throw l.fa(A),H;}};x.encode=function(l,
z,C){return(new x(l)).encode(z,C)};E.ma=function(){return r.ma(this)};E.ec=function(l){var z=!1;l||(l=new D,z=!0);var C=(new D).fa();r.encode(this,C).Ka();l.B(C.G());l.append(C);return z?l.Ka():l};E.Eb=function(){try{return this.encode().ib()}catch(l){throw l.encoded&&(l.encoded=l.encoded.ib()),l;}};E.ib=E.Eb;E.Gb=function(){try{return this.encode().Sa()}catch(l){throw l.encoded&&(l.encoded=l.encoded.Sa()),l;}};E.Sa=E.Gb;E.Db=function(){try{return this.encode().Ra()}catch(l){throw l.encoded&&(l.encoded=
l.encoded.Ra()),l;}};E.Ra=E.Db;E.Fb=function(){try{return this.encode().kb()}catch(l){throw l.encoded&&(l.encoded=l.encoded.kb()),l;}};E.kb=E.Fb;E.Ec=function(l,z){return G(this,!!l,!!z,this.Va)};E.fc=function(){return JSON.stringify(G(this,!0,!0,this.Va))};x.decode=function(l,z){"string"===typeof l&&(l=D.Ua(l,z?z:"base64"));l=D.La(l)?l:D.Ua(l);z=l.Mb;try{var C=r.decode(l.fa());l.fa(z);return C}catch(A){throw l.fa(z),A;}};E.toString=function(){return r.toString()};Object.defineProperty&&(Object.defineProperty(x,
"$options",{value:r.ga()}),Object.defineProperty(E,"$options",{value:x.$options}),Object.defineProperty(x,"$type",{value:r}),Object.defineProperty(E,"$type",{value:r}));return x}(c,this);this.aa=[];this.Ja={};this.qa={};for(var b=0,f=this.children.length,h;b<f;b++)if(h=this.children[b],h instanceof k||h instanceof e||h instanceof F){if(a.hasOwnProperty(h.name))throw Error("Illegal reflect child of "+this.toString(!0)+": "+h.toString(!0)+" cannot override static property '"+h.name+"'");a[h.name]=h.V()}else if(h instanceof
e.S)h.V(),this.aa.push(h),this.Ja[h.id]=h,this.qa[h.name]=h;else if(!(h instanceof e.xa||h instanceof t))throw Error("Illegal reflect child of "+this.toString(!0)+": "+this.children[b].toString(!0));return this.C=a};K.encode=function(a,b,f){for(var h=null,q,r=0,x=this.aa.length,G;r<x;++r)q=this.aa[r],G=a[q.name],q.required&&null===G?null===h&&(h=q):q.encode(f?G:q.A(G),b,a);if(null!==h)throw a=Error("Missing at least one required field for "+this.toString(!0)+": "+h),a.encoded=b,a;return b};K.ma=function(a){for(var b=
0,f=0,h=this.aa.length,q,r;f<h;++f){q=this.aa[f];r=a[q.name];if(q.required&&null===r)throw Error("Missing at least one required field for "+this.toString(!0)+": "+q);b+=q.ma(r,a)}return b};K.decode=function(a,b,f){b="number"===typeof b?b:-1;for(var h=a.offset,q=new this.C,r,x,G;a.offset<h+b||-1===b&&0<a.G();){r=a.H();x=r&7;G=r>>>3;if(x===c.j.va){if(G!==f)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+G+" ("+(f?f+" expected":"not a group")+")");break}if(r=this.Ja[G])r.N&&!r.options.packed?
q[r.name].push(r.decode(x,a)):r.map?(x=r.decode(x,a),q[r.name].set(x[0],x[1])):(q[r.name]=r.decode(x,a),r.$&&(x=q[r.$.name],null!==x&&x!==r.name&&(q[x]=null),q[r.$.name]=r.name));else switch(x){case c.j.O:a.H();break;case c.j.ja:a.offset+=4;break;case c.j.ka:a.offset+=8;break;case c.j.I:r=a.H();a.offset+=r;break;case c.j.Ia:for(;P(G,a););break;default:throw Error("Illegal wire type for unknown field "+G+" in "+this.toString(!0)+"#decode: "+x);}}a=0;for(b=this.aa.length;a<b;++a)if(r=this.aa[a],null===
q[r.name])if("proto3"===this.syntax)q[r.name]=r.defaultValue;else{if(r.required)throw a=Error("Missing at least one required field for "+this.toString(!0)+": "+r.name),a.decoded=q,a;c.Qb&&null!==r.defaultValue&&(q[r.name]=r.defaultValue)}return q};I.o=e;K=u.prototype=Object.create(g.prototype);K.V=function(){this.element=new d(this.type,this.F,!1,this.syntax);this.map&&(this.ta=new d(this.W,void 0,!0,this.syntax));"proto3"!==this.syntax||this.N||this.map?"undefined"!==typeof this.options["default"]&&
(this.defaultValue=this.A(this.options["default"])):this.defaultValue=d.h(this.type)};K.A=function(a,b){b=b||!1;var f=function(h,q){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+h+" ("+q+")");}.bind(this);if(null===a)return this.required&&f(typeof a,"required"),"proto3"===this.syntax&&this.type!==c.g.message&&f(typeof a,"proto3 field without field presence cannot be null"),null;if(this.N&&!b){Array.isArray(a)||(a=[a]);f=[];for(b=0;b<a.length;b++)f.push(this.element.A(a[b]));
return f}if(this.map&&!b){if(a instanceof c.Map)return a;a instanceof Object||f(typeof a,"expected ProtoBuf.Map or raw object for map field");return new c.Map(this,a)}!this.N&&Array.isArray(a)&&f(typeof a,"no array expected");return this.element.A(a)};K.fb=function(a,b){if("proto3"!==this.syntax)return null!==a;if(this.$&&b[this.$.name]===this.name)return!0;switch(this.type){case c.g.int32:case c.g.sint32:case c.g.sfixed32:case c.g.uint32:case c.g.fixed32:return 0!==a;case c.g.int64:case c.g.sint64:case c.g.sfixed64:case c.g.uint64:case c.g.fixed64:return 0!==
a.low||0!==a.high;case c.g.bool:return a;case c.g["float"]:case c.g["double"]:return 0!==a;case c.g.string:return 0<a.length;case c.g.bytes:return 0<a.G();case c.g["enum"]:return 0!==a;case c.g.message:return null!==a;default:return!0}};K.encode=function(a,b,f){if(null===this.type||"object"!==typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===a||this.N&&0==a.length)return b;try{if(this.N){var h;if(this.options.packed&&0<=c.Fa.indexOf(this.type.l)){b.B(this.id<<
3|c.j.I);b.hc(b.offset+=1);var q=b.offset;for(h=0;h<a.length;h++)this.element.ra(this.id,a[h],b);var r=b.offset-q,x=D.v(r);if(1<x){var G=b.slice(q,b.offset);q+=x-1;b.offset=q;b.append(G)}b.B(r,q-x)}else for(h=0;h<a.length;h++)b.B(this.id<<3|this.type.l),this.element.ra(this.id,a[h],b)}else this.map?a.forEach(function(J,M){var E=D.v(8|this.W.l)+this.ta.ha(1,M)+D.v(16|this.type.l)+this.element.ha(2,J);b.B(this.id<<3|c.j.I);b.B(E);b.B(8|this.W.l);this.ta.ra(1,M,b);b.B(16|this.type.l);this.element.ra(2,
J,b)},this):this.fb(a,f)&&(b.B(this.id<<3|this.type.l),this.element.ra(this.id,a,b))}catch(J){throw Error("Illegal value for "+this.toString(!0)+": "+a+" ("+J+")");}return b};K.ma=function(a,b){a=this.A(a);if(null===this.type||"object"!==typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===a||this.N&&0==a.length)return 0;var f=0;try{if(this.N){var h,q;if(this.options.packed&&0<=c.Fa.indexOf(this.type.l)){f+=D.v(this.id<<3|c.j.I);for(h=q=0;h<a.length;h++)q+=
this.element.ha(this.id,a[h]);f+=D.v(q);f+=q}else for(h=0;h<a.length;h++)f+=D.v(this.id<<3|this.type.l),f+=this.element.ha(this.id,a[h])}else this.map?a.forEach(function(r,x){r=D.v(8|this.W.l)+this.ta.ha(1,x)+D.v(16|this.type.l)+this.element.ha(2,r);f+=D.v(this.id<<3|c.j.I);f+=D.v(r);f+=r},this):this.fb(a,b)&&(f+=D.v(this.id<<3|this.type.l),f+=this.element.ha(this.id,a))}catch(r){throw Error("Illegal value for "+this.toString(!0)+": "+a+" ("+r+")");}return f};K.decode=function(a,b,f){if(!(!this.map&&
a==this.type.l||!f&&this.N&&this.options.packed&&a==c.j.I||this.map&&a==c.j.I))throw Error("Illegal wire type for field "+this.toString(!0)+": "+a+" ("+this.type.l+" expected)");if(a==c.j.I&&this.N&&this.options.packed&&0<=c.Fa.indexOf(this.type.l)&&!f){a=b.H();a=b.offset+a;for(f=[];b.offset<a;)f.push(this.decode(this.type.l,b,!0));return f}if(this.map){var h=d.h(this.W);f=d.h(this.type);a=b.H();if(b.G()<a)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+a+" required but got only "+
b.G());var q=b.clone();q.Lb=q.offset+a;for(b.offset+=a;0<q.G();)if(b=q.H(),a=b&7,b>>>=3,1===b)h=this.ta.decode(q,a,b);else if(2===b)f=this.element.decode(q,a,b);else throw Error("Unexpected tag in map field key/value submessage");return[h,f]}return this.element.decode(b,a,this.id)};I.o.S=u;w.prototype=Object.create(u.prototype);I.o.wa=w;I.o.xa=function(a,b,f){g.call(this,a,b,f);this.Ib=[]};k.Jb=function(a,b){for(var f=Object.keys(a),h=0,q;h<f.length;++h)if(a[q=f[h]]===b)return q;return null};(k.prototype=
Object.create(n.prototype)).V=function(){if(this.object)return this.object;for(var a=new c.ea.R,b=this.sa(k.ya),f=0,h=b.length;f<h;++f)a[b[f].name]=b[f].id;Object.defineProperty&&Object.defineProperty(a,"$options",{value:this.ga(),enumerable:!1});return this.object=a};I.R=k;y.prototype=Object.create(g.prototype);I.R.ya=y;t.prototype=Object.create(g.prototype);I.Xa=t;(F.prototype=Object.create(n.prototype)).V=function(){return this.C?this.C:this.C=function(a,b){function f(x){a.ea.T.call(this);this.Sb=
x||function(G,J,M){setTimeout(M.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}}for(var h=f.prototype=Object.create(a.ea.T.prototype),q=b.sa(a.Reflect.T.Ga),r=0;r<q.length;r++)(function(x){h[x.name]=function(G,J){try{try{G=x.Aa.C.decode(D.Ua(G))}catch(M){if(!(M instanceof TypeError))throw M;}if(null===G||"object"!==typeof G)throw Error("Illegal arguments");G instanceof x.Aa.C||(G=new x.Aa.C(G));this.Sb(x.za(),G,function(M,E){if(M)J(M);else{try{E=
x.Pa.C.decode(E)}catch(R){}E&&E instanceof x.Pa.C?J(null,E):J(Error("Illegal response type received in service method "+b.name+"#"+x.name))}})}catch(M){setTimeout(J.bind(this,M),0)}};f[x.name]=function(G,J,M){(new f(G))[x.name](J,M)};Object.defineProperty&&(Object.defineProperty(f[x.name],"$options",{value:x.ga()}),Object.defineProperty(h[x.name],"$options",{value:f[x.name].$options}))})(q[r]);Object.defineProperty&&(Object.defineProperty(f,"$options",{value:b.ga()}),Object.defineProperty(h,"$options",
{value:f.$options}),Object.defineProperty(f,"$type",{value:b}),Object.defineProperty(h,"$type",{value:b}));return f}(c,this)};I.T=F;(v.prototype=Object.create(g.prototype)).ga=N.ga;I.T.tb=v;m.prototype=Object.create(v.prototype);I.T.Ga=m;return I}(p);p.ea=function(c,m,v){function F(k){this.i=this.Z=new v.la(this,null,"");this.ia=!1;this.u=null;this.h={};this.L=null;this.options=k||{}}function t(k){k.messages&&k.messages.forEach(function(w){w.syntax=k.syntax;t(w)});k.enums&&k.enums.forEach(function(w){w.syntax=
k.syntax})}var y=F.prototype;F.D=function(k){return"string"!==typeof k.name||"undefined"!==typeof k.values||"undefined"!==typeof k.rpc?!1:!0};F.h=function(k){return"string"===typeof k.name&&"undefined"!==typeof k.values&&Array.isArray(k.values)&&0!==k.values.length?!0:!1};F.L=function(k){return"string"===typeof k.name&&"object"===typeof k.rpc&&k.rpc?!0:!1};F.u=function(k){return"string"!==typeof k.ref?!1:!0};y.D=function(){this.i=this.Z;return this};y.ua=function(k){if("string"!==typeof k||!m.J.test(k))throw Error("illegal namespace: "+
k);k.split(".").forEach(function(w){var u=this.i.K(w);null===u&&this.i.U(u=new v.la(this,this.i,w));this.i=u},this)};y.create=function(k){if(!k)return this;if(Array.isArray(k)){if(0===k.length)return this;k=k.slice()}else k=[k];for(var w=[k];0<w.length;){k=w.pop();if(!Array.isArray(k))throw Error("not a valid namespace: "+JSON.stringify(k));for(;0<k.length;){var u=k.shift();if(F.D(u)){var e=new v.o(this,this.i,u.name,u.options,u.isGroup,u.syntax),d={};u.oneofs&&Object.keys(u.oneofs).forEach(function(g){e.U(d[g]=
new v.o.xa(this,e,g))},this);u.fields&&u.fields.forEach(function(g){if(null!==e.K(g.id|0))throw Error("duplicate or invalid field id in "+e.name+": "+g.id);if(g.options&&"object"!==typeof g.options)throw Error("illegal field options in "+e.name+"#"+g.name);var B=null;if("string"===typeof g.oneof&&!(B=d[g.oneof]))throw Error("illegal oneof in "+e.name+"#"+g.name+": "+g.oneof);g=new v.o.S(this,e,g.rule,g.keytype,g.type,g.name,g.id,g.options,B,u.syntax);B&&B.Ib.push(g);e.U(g)},this);var n=[];u.enums&&
u.enums.forEach(function(g){n.push(g)});u.messages&&u.messages.forEach(function(g){n.push(g)});u.services&&u.services.forEach(function(g){n.push(g)});u.extensions&&(e.ba=u.extensions,e.ba[0]<c.pa&&(e.ba[0]=c.pa),e.ba[1]>c.oa&&(e.ba[1]=c.oa));this.i.U(e);if(0<n.length){w.push(k);k=n;n=null;this.i=e;e=null;continue}n=null}else if(F.h(u))e=new v.R(this,this.i,u.name,u.options,u.syntax),u.values.forEach(function(g){e.U(new v.R.ya(this,e,g.name,g.id))},this),this.i.U(e);else if(F.L(u))e=new v.T(this,this.i,
u.name,u.options),Object.keys(u.rpc).forEach(function(g){var B=u.rpc[g];e.U(new v.T.Ga(this,e,g,B.request,B.response,!!B.request_stream,!!B.response_stream,B.options))},this),this.i.U(e);else if(F.u(u))if(e=this.i.resolve(u.ref,!0))u.fields.forEach(function(g){if(null!==e.K(g.id|0))throw Error("duplicate extended field id in "+e.name+": "+g.id);if(g.id<e.ba[0]||g.id>e.ba[1])throw Error("illegal extended field id in "+e.name+": "+g.id+" ("+e.ba.join(" to ")+" expected)");var B=g.name;this.options.convertFieldsToCamelCase&&
(B=c.Y.jb(B));B=new v.o.wa(this,e,g.rule,g.type,this.i.za()+"."+B,g.id,g.options);g=new v.Xa(this,this.i,g.name,B);B.Hb=g;this.i.U(g);e.U(B)},this);else{if(!/\.?google\.protobuf\./.test(u.ref))throw Error("extended message "+u.ref+" is not defined");}else throw Error("not a valid definition: "+JSON.stringify(u));e=u=null}k=null;this.i=this.i.parent}this.ia=!1;this.u=null;return this};y["import"]=function(k,w){var u="/";if("string"===typeof w){c.Y.Ea&&(w=require("path").resolve(w));if(!0===this.h[w])return this.D();
this.h[w]=!0}else if("object"===typeof w){var e=w.root;c.Y.Ea&&(e=require("path").resolve(e));if(0<=e.indexOf("\\")||0<=w.file.indexOf("\\"))u="\\";e=e+u+w.file;if(!0===this.h[e])return this.D();this.h[e]=!0}if(k.imports&&0<k.imports.length){var d=!1;if("object"===typeof w){if(this.L=w.root,d=!0,e=this.L,w=w.file,0<=e.indexOf("\\")||0<=w.indexOf("\\"))u="\\"}else"string"===typeof w?this.L?e=this.L:0<=w.indexOf("/")?(e=w.replace(/\/[^\/]*$/,""),""===e&&(e="/")):0<=w.indexOf("\\")?(e=w.replace(/\\[^\\]*$/,
""),u="\\"):e=".":e=null;for(var n=0;n<k.imports.length;n++)if("string"===typeof k.imports[n]){if(!e)throw Error("cannot determine import root");var g=k.imports[n];if("google/protobuf/descriptor.proto"!==g&&(g=e+u+g,!0!==this.h[g])){/\.proto$/i.test(g)&&!c.Da&&(g=g.replace(/\.proto$/,".json"));var B=c.Y.fetch(g);if(null===B)throw Error("failed to import '"+g+"' in '"+w+"': file not found");if(/\.json$/i.test(g))this["import"](JSON.parse(B+""),g);else this["import"](c.Da.bb.parse(B),g)}}else if(w)if(/\.(\w+)$/.test(w))this["import"](k.imports[n],
w.replace(/^(.+)\.(\w+)$/,function(I,N,K){return N+"_import"+n+"."+K}));else this["import"](k.imports[n],w+"_import"+n);else this["import"](k.imports[n]);d&&(this.L=null)}k["package"]&&this.ua(k["package"]);k.syntax&&t(k);var P=this.i;k.options&&Object.keys(k.options).forEach(function(I){P.options[I]=k.options[I]});k.messages&&(this.create(k.messages),this.i=P);k.enums&&(this.create(k.enums),this.i=P);k.services&&(this.create(k.services),this.i=P);k["extends"]&&this.create(k["extends"]);return this.D()};
y.Oa=function(){if(null!=this.i&&"object"!==typeof this.i.type){if(this.i instanceof v.la)this.i.children.forEach(function(w){this.i=w;this.Oa()},this);else if(this.i instanceof v.o.S){if(m.TYPE.test(this.i.type))this.i.type=c.g[this.i.type];else{if(!m.J.test(this.i.type))throw Error("illegal type reference in "+this.i.toString(!0)+": "+this.i.type);var k=(this.i instanceof v.o.wa?this.i.Hb.parent:this.i.parent).resolve(this.i.type,!0);if(!k)throw Error("unresolvable type reference in "+this.i.toString(!0)+
": "+this.i.type);this.i.F=k;if(k instanceof v.R){if(this.i.type=c.g["enum"],"proto3"===this.i.syntax&&"proto3"!==k.syntax)throw Error("proto3 message cannot reference proto2 enum");}else if(k instanceof v.o)this.i.type=k.Kb?c.g.group:c.g.message;else throw Error("illegal type reference in "+this.i.toString(!0)+": "+this.i.type);}if(this.i.map){if(!m.TYPE.test(this.i.W))throw Error("illegal key type for map field in "+this.i.toString(!0)+": "+this.i.W);this.i.W=c.g[this.i.W]}}else if(this.i instanceof
c.Reflect.T.tb)if(this.i instanceof c.Reflect.T.Ga){k=this.i.parent.resolve(this.i.gb,!0);if(!(k&&k instanceof c.Reflect.o))throw Error("Illegal type reference in "+this.i.toString(!0)+": "+this.i.gb);this.i.Aa=k;k=this.i.parent.resolve(this.i.hb,!0);if(!(k&&k instanceof c.Reflect.o))throw Error("Illegal type reference in "+this.i.toString(!0)+": "+this.i.hb);this.i.Pa=k}else throw Error("illegal service type in "+this.i.toString(!0));else if(!(this.i instanceof c.Reflect.o.xa||this.i instanceof c.Reflect.Xa||
this.i instanceof c.Reflect.R.ya))throw Error("illegal object in namespace: "+typeof this.i+": "+this.i);this.D()}};y.V=function(){this.D();this.ia||(this.Oa(),this.ia=!0,this.u=null);null===this.u&&(this.u=this.Z.V());return this.u};y.Qa=function(k,w){return k?this.Z.resolve(k,w):this.Z};y.toString=function(){return"Builder"};F.o=function(){};F.R=function(){};F.T=function(){};return F}(p,p.Ya,p.Reflect);p.Map=function(c,m){function v(t,y){if(!t.map)throw Error("field is not a map");this.P=new m.Element(t.W,
null,!0,t.syntax);this.Ta=new m.Element(t.type,t.F,!1,t.syntax);this.map={};Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}});if(y){t=Object.keys(y);for(var k=0;k<t.length;k++){var w=this.P.Ub(t[k]),u=this.Ta.A(y[t[k]]);this.map[this.P.na(w)]={key:w,value:u}}}}function F(t){var y=0;return{next:function(){return y<t.length?{done:!1,value:t[y++]}:{done:!0}}}}c=v.prototype;c.clear=function(){this.map={}};c["delete"]=function(t){t=this.P.na(this.P.A(t));var y=t in
this.map;delete this.map[t];return y};c.entries=function(){for(var t=[],y=Object.keys(this.map),k=0,w;k<y.length;k++)t.push([(w=this.map[y[k]]).key,w.value]);return F(t)};c.keys=function(){for(var t=[],y=Object.keys(this.map),k=0;k<y.length;k++)t.push(this.map[y[k]].key);return F(t)};c.values=function(){for(var t=[],y=Object.keys(this.map),k=0;k<y.length;k++)t.push(this.map[y[k]].value);return F(t)};c.forEach=function(t,y){for(var k=Object.keys(this.map),w=0,u;w<k.length;w++)t.call(y,(u=this.map[k[w]]).value,
u.key,this)};c.set=function(t,y){t=this.P.A(t);y=this.Ta.A(y);this.map[this.P.na(t)]={key:t,value:y};return this};c.get=function(t){t=this.P.na(this.P.A(t));if(t in this.map)return this.map[t].value};c.has=function(t){return this.P.na(this.P.A(t))in this.map};return v}(p,p.Reflect);p.Na=function(c,m,v){if("string"===typeof m||m&&"string"===typeof m.file&&"string"===typeof m.root)v=m,m=void 0;return p.Ma(p.Da.bb.parse(c),m,v)};p.qc=p.Na;p.Nb=function(c,m,v){m&&"object"===typeof m?(v=m,m=null):m&&"function"===
typeof m||(m=null);if(m)return p.Y.fetch("string"===typeof c?c:c.root+"/"+c.file,function(t){if(null===t)m(Error("Failed to fetch file"));else try{m(null,p.Na(t,v,c))}catch(y){m(y)}});var F=p.Y.fetch("object"===typeof c?c.root+"/"+c.file:c);return null===F?null:p.Na(F,v,c)};p.pc=p.Nb;p.Ob=function(){var c=c||{};"undefined"===typeof c.convertFieldsToCamelCase&&(c.convertFieldsToCamelCase=p.Cb);"undefined"===typeof c.populateAccessors&&(c.populateAccessors=p.Pb);return new p.ea(c)};p.Ma=function(c,
m,v){if("string"===typeof m||m&&"string"===typeof m.file&&"string"===typeof m.root)v=m,m=null;m&&"object"===typeof m||(m=p.Ob());"string"===typeof c&&(c=JSON.parse(c));m["import"](c,v);m.Oa();return m};p.oc=function(c,m,v){m&&"object"===typeof m?(v=m,m=null):m&&"function"===typeof m||(m=null);if(m)return p.Y.fetch("string"===typeof c?c:c.root+"/"+c.file,function(t){if(null===t)m(Error("Failed to fetch file"));else try{m(null,p.Ma(JSON.parse(t),v,c))}catch(y){m(y)}});var F=p.Y.fetch("object"===typeof c?
c.root+"/"+c.file:c);return null===F?null:p.Ma(JSON.parse(F),v,c)};return p}"function"===typeof define&&define.amd?define(["ByteBuffer"],S):"function"===typeof require&&"object"===typeof module&&module&&module.exports?module.exports=S(require("bytebuffer"),!0):(this.dcodeIO=this.dcodeIO||{}).ProtoBuf=S(this.dcodeIO.ByteBuffer);
